{"version":3,"sources":["components/BarChart.jsx","components/BarWrapper.jsx","App.js","reportWebVitals.js","index.js"],"names":["Chart","register","annotationPlugin","BarChart","props","data","options","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","BarWrapper","useState","showDayChart","setShowDayChart","dayChartDate","setDayChartDate","dayChartData","labels","datasets","label","borderColor","backgroundColor","type","order","yAxisID","labelsObj","date","trend","actions","lme","item","push","annotations","i","length","newAnnotation","xScaleID","yScaleID","yMin","yMax","xMin","xMax","borderWidth","calculateAnnotations","scales","y","title","display","text","position","stacked","ticks","beginAtZero","grid","min","max","y3","y2","x1","plugins","annotation","filler","propagate","target","tooltip","callbacks","footer","tooltipItems","output","forEach","tooltipItem","dataset","raw","r","parsed","stack","fill","x","className","onClick","element","$context","elements","map","o","uuidv4","action","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64ab3a28.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Chart, Bar } from 'react-chartjs-2';\r\nimport annotationPlugin from 'chartjs-plugin-annotation';\r\nChart.register(annotationPlugin);\r\n\r\nfunction BarChart(props) {\r\n\r\n  return (\r\n    <Bar \r\n      data={props.data}\r\n      options={props.options}\r\n      getDatasetAtEvent={props.getDatasetAtEvent}\r\n      getElementAtEvent={props.getElementAtEvent}\r\n      getElementsAtEvent={props.getElementsAtEvent}\r\n    />\r\n  )\r\n\r\n};\r\n\r\nexport default BarChart;","import React, { useState, useRef } from 'react';\r\nimport BarChart from './BarChart';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction BarWrapper() {\r\n\r\n    const [showDayChart, setShowDayChart] = useState(false);\r\n    const [dayChartDate, setDayChartDate] = useState('');\r\n\r\n    const timeLabels = [\r\n        '00.00', '01.00','02.00', '03.00','04.00', '05.00', '06.00',\r\n        '07.00', '08.00','09.00', '10.00','11.00', '12.00', '13.00',\r\n        '14.00', '15.00','16.00', '17.00','18.00', '19.00', '20.00',\r\n        '21.00', '22.00','23.00', '24.00'\r\n    ];\r\n\r\n    const dayChartData = {\r\n        labels: timeLabels,\r\n        datasets: [\r\n            {\r\n                label: `LME официальный курс на ${dayChartDate}`,\r\n                data: [\r\n                    1750, 1859, 1695, 1820, 1699, 1800, 1750, 1859, 1695, 1820,\r\n                    1750, 1859, 1695, 1820, 1699, 1800, 1750, 1859, 1695, 1820,\r\n                    1750, 1859, 1695, 1820, \r\n                ],\r\n                borderColor: 'red',\r\n                backgroundColor: 'rgba(132, 155, 123, 0.3)',\r\n                type: 'line',\r\n                order: 1,\r\n                yAxisID: 'y'\r\n            }\r\n        ]\r\n    }\r\n\r\n    const dayChartOptions = {\r\n        scales: {\r\n            y: {\r\n              title: {\r\n                display: true,\r\n                text: 'LME'\r\n              },\r\n              position: 'left',\r\n              stacked: false,\r\n              ticks: {\r\n                beginAtZero: false,\r\n              },\r\n              grid: {\r\n                  display: false\r\n              },\r\n              min: 1500,\r\n              max: 2000,\r\n            },\r\n            x1: {\r\n              title: {\r\n                display: true,\r\n                text: 'Время'\r\n              },\r\n            }\r\n          },\r\n          plugins: {\r\n              title: {\r\n                  display: true,\r\n                  text: 'Почасовой график'\r\n              },\r\n              filler: {\r\n                  propagate: false\r\n              },\r\n              'samples-filler-analyser': {\r\n                  target: 'chart-analyser'\r\n              },\r\n          },\r\n    }\r\n\r\n    const labelsObj = [\r\n        {date: '01.01.21', trend: 'growth', actions: ['Событие 1. Приведет к росту' , 'Событие 2. Просто новость'], lme: true},\r\n        {date: '02.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '03.01.21', trend: 'fall', actions: ['Событие 1. Приведет к падению' , 'Событие 2'], lme: true},\r\n        {date: '04.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '05.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '06.01.21', trend: 'growth', actions: ['Событие 1. Приведет к росту' , 'Событие 2'], lme: false},\r\n        {date: '07.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: false},\r\n        {date: '08.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '09.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '10.01.21', trend: 'fall', actions: ['Событие 1. Приведет к падению' , 'Событие 2'], lme: true},\r\n        {date: '11.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '12.01.21', trend: 'growth', actions: ['Событие 1. Приведет к росту' , 'Событие 2'], lme: false},\r\n        {date: '13.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: false},\r\n        {date: '14.01.21', trend: 'growth', actions: ['Событие 1. Приведет к росту' , 'Событие 2'], lme: false},\r\n        {date: '15.01.21', trend: 'fall', actions: ['Событие 1. Приведет к падению' , 'Событие 2'], lme: true},\r\n        {date: '16.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '17.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '18.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '19.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '20.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: false},\r\n        {date: '21.01.21', trend: 'growth', actions: ['Событие 1. Приведет к росту' , 'Событие 2'], lme: false},\r\n        {date: '22.01.21', trend: 'fall', actions: ['Событие 1. Приведет к падению' , 'Событие 2'], lme: true},\r\n        {date: '23.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '24.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '25.01.21', trend: 'fall', actions: ['Событие 1. Приведет к падению' , 'Событие 2'], lme: true},\r\n        {date: '26.01.21', trend: 'growth', actions: ['Событие 1. Приведет к росту' , 'Событие 2'], lme: true},\r\n        {date: '27.01.21', trend: 'fall', actions: ['Событие 1. Приведет к падению' , 'Событие 2'], lme: false},\r\n        {date: '28.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: false},\r\n        {date: '29.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true},\r\n        {date: '30.01.21', trend: 'no', actions: ['Событие 1' , 'Событие 2'], lme: true} \r\n    ];\r\n\r\n    const labels = [];\r\n\r\n    for (let item of labelsObj) {\r\n        labels.push(item.date);\r\n    }\r\n\r\n    const annotations = [];\r\n\r\n    const calculateAnnotations = () => {\r\n        for (let i = 0; i < labelsObj.length; i += 1) {\r\n            const newAnnotation = {\r\n                type: 'box',\r\n                xScaleID: 'x1',\r\n                yScaleID: 'y',\r\n                yMin: 0,\r\n                yMax: 20000,\r\n                xMin: i -0.5,\r\n                xMax: i + 0.5,\r\n                borderWidth: 0\r\n            };\r\n            if (labelsObj[i].trend === 'growth') {\r\n                newAnnotation.backgroundColor = 'rgba(42, 187, 155, 0.05)'\r\n            } else if (labelsObj[i].trend === 'fall') {\r\n                newAnnotation.backgroundColor = 'rgba(255, 0, 0, 0.05)'\r\n            }else if (labelsObj[i].trend === 'no') {\r\n                newAnnotation.backgroundColor = 'rgba(255, 255, 255, 0.05)'\r\n            }\r\n            annotations.push(newAnnotation);\r\n        }\r\n    }\r\n\r\n    calculateAnnotations();\r\n\r\n    const options = {\r\n        scales: {\r\n          y: {\r\n            title: {\r\n              display: true,\r\n              text: 'USD'\r\n            },\r\n            position: 'right',\r\n            stacked: false,\r\n            ticks: {\r\n              beginAtZero: true,\r\n            },\r\n            grid: {\r\n                display: false\r\n            },\r\n            min: 60,\r\n            max: 100,\r\n          },\r\n          y3: {\r\n            title: {\r\n              display: true,\r\n              text: 'Импорт, т'\r\n            },\r\n            position: 'right',\r\n            stacked: true,\r\n            ticks: {\r\n              beginAtZero: true,\r\n            },\r\n            grid: {\r\n                display: false\r\n            },\r\n            min: 0,\r\n            max: 800,\r\n          },\r\n          y2: {\r\n            title: {\r\n              display: true,\r\n              text: 'LME'\r\n            },\r\n            stacked: false,\r\n            ticks: {\r\n              beginAtZero: false\r\n            },\r\n            min: 1400,\r\n            max: 2100\r\n          },\r\n          x1: {\r\n            title: {\r\n              display: true,\r\n              text: 'Дата'\r\n            },\r\n          }\r\n        },\r\n        plugins: {\r\n            annotation: {\r\n                annotations: annotations\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: 'График с тремя осями у'\r\n            },\r\n            filler: {\r\n                propagate: false\r\n            },\r\n            'samples-filler-analyser': {\r\n                target: 'chart-analyser'\r\n            },\r\n            tooltip: {\r\n                callbacks: {\r\n                    footer: function(tooltipItems) {\r\n                    let output = 'no';\r\n                    tooltipItems.forEach(function(tooltipItem) {\r\n                        // console.log(tooltipItem);\r\n                        if (tooltipItem.dataset.type === 'bubble') {\r\n                        output = `Закуплено ${tooltipItem.raw.r} т меди по цене ${tooltipItem.parsed.y} $`;\r\n                        }\r\n                    });\r\n                    return output === 'no' ? '' : output;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n    const data = {\r\n        labels: labels,\r\n        datasets: [\r\n            {\r\n                label: 'Импорт ЕАЭС, т',\r\n                data: [\r\n                    20, 30, 31, 35, 45, 44, 45, 56, 23, 10,\r\n                    20, 30, 31, 35, 45, 44, 45, 56, 23, 10,\r\n                    20, 30, 31, 35, 45, 44, 45, 56, 23, 10\r\n                ],\r\n                borderColor: 'rgba(67, 69, 201, 0.808)',\r\n                backgroundColor: 'rgba(67, 69, 201, 0.808)',\r\n                type: 'bar',\r\n                yAxisID: 'y3',\r\n                stack: 'Stack 0',\r\n            },\r\n            {\r\n                label: 'Импорт дальнее, т',\r\n                data: [\r\n                    20, 30, 31, 35, 45, 44, 45, 56, 23, 10,\r\n                    20, 30, 31, 35, 45, 44, 45, 56, 23, 10,\r\n                    20, 30, 31, 35, 45, 44, 45, 56, 23, 10\r\n                ],\r\n                borderColor: 'rgba(75, 207, 126, 0.808)',\r\n                backgroundColor: 'rgba(75, 207, 126, 0.808)',\r\n                type: 'bar',\r\n                yAxisID: 'y3',\r\n                stack: 'Stack 0',\r\n            },\r\n            {\r\n                label: 'LME официальный курс',\r\n                data: [\r\n                    1750, 1859, 1695, 1820, 1699, 1800, 1750, 1859, 1695, 1820,\r\n                    1750, 1859, 1695, 1820, 1699, 1800, 1750, 1859, 1695, 1820,\r\n                    1750, 1859, 1695, 1820, 1699, 1800, 1750, 1859, 1695, 1820,\r\n                ],\r\n                borderColor: 'red',\r\n                backgroundColor: 'rgba(132, 155, 123, 0.3)',\r\n                type: 'line',\r\n                order: 1,\r\n                yAxisID: 'y2'\r\n            }, {\r\n                label: 'USD официальный',\r\n                data: [\r\n                    71, 75, 77, 75, 73, 77, 75, 73, 77, 79,\r\n                    71, 75, 77, 75, 73, 77, 75, 73, 77, 79,\r\n                    71, 75, 77, 75, 73, 77, 75, 73, 77, 79,\r\n                ],\r\n                backgroundColor: 'rgba(20, 0, 133, 1)',\r\n                borderColor: 'rgba(20, 0, 133, 1)',\r\n                type: 'line',\r\n                order: 2,\r\n                yAxisID: 'y'\r\n            }, \r\n            {\r\n                label: 'min цена импорта',\r\n                data: [\r\n                    1700, 1800, 1640, 1750, 1630, 1750, 1700, 1800, 1630, 1780,\r\n                    1700, 1800, 1640, 1750, 1630, 1750, 1700, 1800, 1630, 1780,\r\n                    1700, 1800, 1640, 1750, 1630, 1750, 1700, 1800, 1630, 1780,\r\n                ],\r\n                backgroundColor: 'rgba(253, 152, 0, 0.2)',\r\n                borderColor: 'rgb(253, 152, 0)',\r\n                type: 'line',\r\n                order: 1,\r\n                fill: '+1',\r\n                yAxisID: 'y2'\r\n            }, {\r\n                label: 'max цена импорта',\r\n                data: [\r\n                    1800, 1900, 1750, 1860, 1750, 1850, 1800, 1900, 1750, 1860,\r\n                    1800, 1900, 1750, 1860, 1750, 1850, 1800, 1900, 1750, 1860,\r\n                    1800, 1900, 1750, 1860, 1750, 1850, 1800, 1900, 1750, 1860,\r\n                ],\r\n                backgroundColor: 'rgba(9, 248, 228, 1)',\r\n                borderColor: 'rgba(9, 248, 228, 1)',\r\n                type: 'line',\r\n                order: 2,\r\n                yAxisID: 'y2'\r\n            },\r\n            {\r\n                type: 'bubble',\r\n                label: 'Менеджер 1',\r\n                data: [\r\n                    {x: '01.01.21', y: 1700, r: 10}, {x: '02.01.21', y: 1900, r: 15}, {x: '03.01.21', y: 1750, r: 15},\r\n                    {x: '04.01.21', y: 1620, r: 15}, {x: '05.01.21', y: 1900, r: 15}, {x: '06.01.21', y: 1675, r: 15},\r\n                    {x: '06.01.21', y: 1850, r: 15}, {x: '07.01.21', y: 1650, r: 10}, {x: '08.01.21', y: 1850, r: 5},\r\n                    {x: '10.01.21', y: 1720, r: 10}, {x: '11.01.21', y: 1750, r: 10}, {x: '15.01.21', y: 1853, r: 5},\r\n                    {x: '20.01.21', y: 1920, r: 10}, {x: '23.01.21', y: 1820, r: 15}, {x: '28.01.21', y: 1654, r: 15},\r\n                ],\r\n                borderColor: 'rgba(207, 75, 196, 0.616)',\r\n                backgroundColor: 'rgba(207, 75, 196, 0.616)',\r\n                order: 0,\r\n                yAxisID: 'y2'\r\n            },\r\n            {\r\n                type: 'bubble',\r\n                label: 'Менеджер 2',\r\n                data: [\r\n                    {x: '01.01.21', y: 1800, r: 10}, {x: '02.01.21', y: 1720, r: 15}, {x: '03.01.21', y: 1650, r: 15},\r\n                    {x: '04.01.21', y: 1700, r: 15}, {x: '05.01.21', y: 1660, r: 15}, {x: '06.01.21', y: 1700, r: 15},\r\n                    {x: '06.01.21', y: 1730, r: 15}, {x: '07.01.21', y: 1850, r: 10}, {x: '08.01.21', y: 1950, r: 5},\r\n                    {x: '10.01.21', y: 1600, r: 10}, {x: '11.01.21', y: 1950, r: 10}, {x: '15.01.21', y: 1750, r: 5},\r\n                    {x: '20.01.21', y: 1800, r: 10}, {x: '23.01.21', y: 1720, r: 15}, {x: '27.01.21', y: 1650, r: 15},\r\n                    {x: '27.01.21', y: 1650, r: 15}, {x: '30.01.21', y: 1650, r: 15},\r\n                ],\r\n                borderColor: 'rgba(194, 207, 75, 0.8)',\r\n                backgroundColor: 'rgba(194, 207, 75, 0.8)',\r\n                order: 0,\r\n                yAxisID: 'y2'\r\n            },\r\n        ],\r\n    };\r\n  \r\n    const getDatasetAtEvent = dataset => {\r\n        if (!dataset.length) return;\r\n        // console.log(dataset);\r\n    };\r\n  \r\n    const getElementAtEvent = element => {\r\n        if (!element.length) return;\r\n        setShowDayChart(true);\r\n        setDayChartDate(labelsObj[element[0].element.$context.parsed.x].date)\r\n\r\n        // console.log(element);\r\n        // console.log(element[0]);\r\n        // console.log(element[0].element.$context.parsed.x);\r\n        // console.log(LineBubbledData.labels[element[0].element.$context.parsed.x])\r\n\r\n    };\r\n  \r\n    const getElementsAtEvent = elements => {\r\n        if (!elements.length) return;\r\n        // console.log(elements);\r\n    };\r\n  \r\n\r\n    // const data = StackedBarData;\r\n    // const options = StackedBarOptions;\r\n    \r\n    return (\r\n        <>\r\n        <div className=\"chart_wrapper\">\r\n            { showDayChart && <div className=\"day_chart\">\r\n                <BarChart data={dayChartData} options={dayChartOptions} />\r\n            </div>}\r\n            {showDayChart && <div className=\"close_day_chart\" onClick={() => setShowDayChart(false)}>\r\n                Закрыть\r\n            </div>}\r\n            <div className=\"chart_item\">\r\n                {/* <BarChart data={data} options={options} />\r\n                <BarChart data={BarLineData} options={BarLineOptions} />\r\n                <BarChart data={BarLineDataNomenclature} options={BarLineOptionsNomenclature} /> */}\r\n                <BarChart data={data} options={options}\r\n                getDatasetAtEvent={getDatasetAtEvent}\r\n                getElementAtEvent={getElementAtEvent}\r\n                getElementsAtEvent={getElementsAtEvent} />\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"dates_info\">\r\n        { labelsObj.map((o) => (\r\n            <div className=\"date_item\" key={uuidv4()}>\r\n                <span className={o.lme ? \"date\" : \"date red\"} key={uuidv4()}>{o.date}</span>\r\n                {o.actions.map((action) => (\r\n                    <span className=\"date_actions\" key={uuidv4()}>{action}</span>\r\n                ))}\r\n            </div>\r\n            ))}\r\n            \r\n        </div>\r\n\r\n        \r\n        </>\r\n    );\r\n}\r\n\r\nexport default BarWrapper;","import './App.css';\nimport BarWrapper from './components/BarWrapper';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BarWrapper />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}